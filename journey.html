<!DOCTYPE html lang="en">
<html>
  <head>
    <meta charset="utf-8">
    <title>Managing Research Software Projects: Bibliography</title>
    <script defer data-domain="codebender.org" src="https://plausible.io/js/plausible.js"></script>
    <link rel="stylesheet" href="./static/site.css">
    <script src="./static/site.js"></script>
    <script>window.onload = () => fixPage()</script>
  </head>
  <body class="home">
    <div align="center" style="padding-top: 2rem;">
      <p>Managing Research Software Projects</p>
      <h1>Bibliography</h1>
      <p>
	<img src="./static/codebender.svg" alt="Codebender logo" width="10%" />
      </p>
    </div>

    <ul>
      <li>Many descriptions of what research software and research software projects should look like</li>
      <li>But what's the best way to get there?
	<ul>
	  <li>And how do research software engineers (RSEs) <em>actually</em> get there (which is often quite different)?</li>
	</ul>
      </li>
      <li>Trace the evolution of a typical (fictitious) research software project
	<ul>
	  <li>From a single grad student writing code for their own use</li>
	  <li>To an open source project with multiple contributors and its own direct funding</li>
	</ul>
      </li>
      <li>Many other paths through this desert, and not all steps are relevant for all projects
	<ul>
	  <li>But we hope this story will provide a baseline for discussion</li>
	</ul>
      </li>
    </ul>

    <h2 id="in-the-beginning">In the Beginning</h2>

    <ul>
      <li>Jess is doing their PhD in ecology
	<ul>
	  <li>Simulating changes in the ranges of several rodent species in the face of climate change</li>
	  <li>Validating against dozens of datasets collected by previous students in their supervisor's lab
	    <ul>
	      <li>Which all need to be cleaned up and put in a consistent format</li>
	    </ul>
	  </li>
	</ul>
      </li>
      <li>Skills:
	<ul>
	  <li>Write hundred-line Python programs with lists, loops, and functions</li>
	  <li>Manipulate data in Excel (<code>VLOOKUP</code>, charts, and conditional formatting, but not macros)</li>
	  <li>Enough HTML and CSS from a high school workshop to tweak a personal web page copied from another student</li>
	</ul>
      </li>
      <li>Goals:
	<ul>
	  <li>Get the data into a consistent format</li>
	  <li>Write the simulation program (which will probably be 1000-1500 lines long)</li>
	  <li>Write and revise thesis and papers (some collaboratively)</li>
	</ul>
      </li>
      <li>Steps:
	<ul>
	  <li>Divide code into multiple files and use <code>import</code></li>
	  <li>Start using Git and <a href="https://github.com/">GitHub</a>
	    <ul>
	      <li>With a GUI like <a href="https://www.gitkraken.com/">GitKraken</a> or <a href="https://desktop.github.com/">GitHub Desktop</a></li>
	      <li>No branching and no collaborators: just a backup tool</li>
	    </ul>
	  </li>
	  <li>Organize the repo according to <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424">Noble's Rules</a></li>
	  <li>Add <a href="https://opensource.org/licenses/MIT">MIT license</a> for software</li>
	  <li>Keep using shared Google Docs for papers and thesis</li>
	</ul>
      </li>
      <li>Managing other people isn't a problem yet, but managing their own time is
	<ul>
	  <li>Start using issues in the GitHub repository as a project to-do list</li>
	</ul>
      </li>
    </ul>

    <h2 id="first-collaborator">First Collaborator</h2>

    <ul>
      <li>Tahia joins the lab and wants to use the same data and clean up some more</li>
      <li>Jess divides the code between two repositories
	<ul>
	  <li>One for data and data cleaning</li>
	  <li>The other for the simulation</li>
	</ul>
      </li>
      <li>Turn each repo into a package that can be installed directly from GitHub with <code>pip</code>
	<ul>
	  <li>Much simpler than <code>conda</code></li>
	  <li>Allows versioning</li>
	  <li>More importantly, means that people who want to use the data can get it with a single command</li>
	</ul>
      </li>
      <li>Including datasets in a Python package is more complicated than it ought to be
	<ul>
	  <li>Jess has been reading <a href="https://stackoverflow.com/">Stack Overflow</a> for years</li>
	  <li>Starts posting questions for the first time</li>
	</ul>
      </li>
      <li>Jess and Tahia start using pull requests in the data cleaning repo
	<ul>
	  <li>Biggest benefit is code review: Jess can look over Tahia's code before merging it</li>
	  <li>Her coding style improves as a result of the reviews, which reduces the load on Jess ("teach someone to fish…")</li>
	</ul>
      </li>
    </ul>
    <h2 id="first-tests">First Tests</h2>
    <ul>
      <li>Jess's supervisor takes on an undergraduate intern Ren to help with the data cleaning</li>
      <li>Every change Ren makes works for the file he's looking at, but seems to break processing of some older file</li>
      <li>Jess starts adding tests with <a href="https://docs.pytest.org/">pytest</a> to the data cleaning project
	<ul>
	  <li>Create very small input files, each of which contains one problem</li>
	  <li>Test that the software reads and fixes the ones it's supposed to</li>
	  <li>Test that it actually fails for the ones it doesn't know how to handle</li>
	</ul>
      </li>
      <li>Along the way, clean up according to <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005412">Taschuk's Rules</a>
	<ul>
	  <li>Add command-line argument handling</li>
	  <li>Eliminate hard-coded paths</li>
	</ul>
      </li>
      <li>Start linting the code with <a href="https://black.readthedocs.io/">black</a>, <a href="https://flake8.pycqa.org/">flake8</a>, <a href="https://pycqa.github.io/">isort</a>, and <a href="https://pycodestyle.pycqa.org/">pycodestyle</a></li>
    </ul>

    <h2 id="first-users">First Users</h2>

    <ul>
      <li>Jess and Tahia publish two papers about the dataset and how it's been cleaned up
	<ul>
	  <li>Put them on a preprint server with DOIs and ORCIDs</li>
	  <li>Add a <code>CITATION.cff</code> file to the repository</li>
	</ul>
      </li>
      <li>Start to get email from other researchers
	<ul>
	  <li>"How can I get your data?"</li>
	  <li>"Can you please add feature X so that I can clean up my data as well?"</li>
	</ul>
      </li>
      <li>Jess belatedly adds a README to the repo
	<ul>
	  <li>Learns enough Markdown to format the page</li>
	</ul>
      </li>
      <li>Starts a blog
	<ul>
	  <li>Bewildering variety of tools</li>
	</ul>
      </li>
      <li>Eventually (with help) get <a href="https://www.mkdocs.org/">MkDocs</a> set up
	<ul>
	  <li>Use it to create documentation for the software as well</li>
	  <li>Publish as a GitHub Pages site</li>
	</ul>
      </li>
    </ul>

    <h2 id="first-handover">First Handover</h2>

    <ul>
      <li>Jess completes their PhD and starts working at a government lab rewriting their simulation
	<ul>
	  <li>Still lots of interest in the data cleanup project, which Jess no longer has time for</li>
	  <li>Agree that Tahia will become its lead</li>
	</ul>
      </li>
      <li>At this point Jess discovers that:
	<ul>
	  <li>Project and personal communication are tangled up in their email</li>
	  <li>There are a <em>lot</em> of things they do that they're not really aware of doing (like preparing releases)</li>
	</ul>
      </li>
      <li>Set up Slack for collaborators</li>
      <li>Create a GMail account for the project</li>
      <li>And a user persona and elevator pitch to the project's home page
	<ul>
	  <li>Biggest benefit is the discussion about them, which helps Jess and Tahia reach consensus on scope</li>
	</ul>
      </li>
      <li>Add a Code of Conduct to the repository
	<ul>
	  <li>Luckily, do this <em>before</em> announcing the handover</li>
	  <li>One community member strongly objects to Tahia becoming project lead</li>
	  <li>Comments become very personal: having CoC in place allows them to ban the person</li>
	</ul>
      </li>
      <li>Jess discovers that <a href="https://third-bit.com/rules/#handing-over-and-moving-on">handing over</a> is emotionally draining and almost as hard as starting up</li>
    </ul>

    <h2 id="last-waltz">Last Waltz</h2>

    <ul>
      <li>Intensive year of coding to build Version 2 of the simulator
	<ul>
	  <li>Write tests, <em>then</em> refactor</li>
	  <li>Add layered configuration and logging</li>
	  <li>Add continuous integration to re-run tests and regenerate website on every commit</li>
	  <li>Start using code coverage to check that everything is being tested</li>
	  <li>And a performance profiler to find out where the time is going</li>
	  <li>Start using <a href="https://code.visualstudio.com/">VSCode</a></li>
	  <li>Distribute via <a href="https://pypi.org/">PyPI</a></li>
	</ul>
      </li>
      <li>Jess will later remember this as the last time they were fully immersed in programming</li>
      <li>Writes their first <a href="https://third-bit.com/ideas/">"to-don't" list</a>
	<ul>
	  <li>Things that would be worthwhile and fun but that they aren't going to start because life is short</li>
	</ul>
      </li>
      <li>Writes checklists for repeated actions
	<ul>
	  <li>So that they can hand those actions off to volunteers from the community</li>
	  <li>Has a startup cost, but pays off long-term</li>
	  <li>Not least by enabling them to take vacations without everything falling apart</li>
	</ul>
      </li>
      <li>Similarly, writes a getting-started tutorial for newcomers
	<ul>
	  <li>Immediately increases the number of people using and contributing to the software</li>
	</ul>
      </li>
      <li>Skills Jess picks up during this time
	<ul>
	  <li><a href="https://third-bit.com/2018/05/11/meetings/">How to run a meeting</a></li>
	  <li><a href="https://third-bit.com/rules/#talking-people-into-things">How to talk people into things</a></li>
	  <li><a href="https://third-bit.com/rules/#being-a-good-research-partner">How to be a good research partner</a></li>
	</ul>
      </li>
      <li>Also learns how to handle being fired when Tahia is terminated after she speaks out about hiring practices at her institution</li>
    </ul>

    <h2 id="management">Management</h2>

    <ul>
      <li>Simulator is now separately funded: two full-time staff, a dozen community contributors, hundreds of users
	<ul>
	  <li>Most discussion now happens on <a href="https://discord.com/">Discord</a></li>
	  <li>For the first time, Jess finds themself saying, "Back in my day…"</li>
	</ul>
      </li>
      <li>Next step in Jess's development requires them to redefine "productive"
	<ul>
	  <li>Figure out what <em>could</em> be done and decide what <em>should</em> be done</li>
	  <li>Delegate work by reaching consensus on who's responsible and what "done" looks like</li>
	  <li>Make connections between people who need to exchange information</li>
	</ul>
      </li>
      <li>Adopts <a href="https://third-bit.com/files/2020/08/marthas/">Martha's Rules</a>
	<ul>
	  <li>People are more likely to join communities whose decision making process is transparent and accountable</li>
	  <li>Also helps filter out people who want X but aren't willing to file a three-paragraph issue</li>
	</ul>
      </li>
      <li>Takes a workshop on <a href="https://codebender.org/">managing research software projects</a>
	<ul>
	  <li>Topics discussed below</li>
	</ul>
      </li>
    </ul>
    <h3 id="people-management">People Management</h3>
    <ul>
      <li>People management: who to hire and how to help their careers?
	<ul>
	  <li>Very different from recruiting volunteer contributors</li>
	</ul>
      </li>
      <li>The riskiest of the four core topics
	<ul>
	  <li>There are legal strictures governing hiring and firing</li>
	</ul>
      </li>
      <li>Jess goes to HR and gets some training to make sure they don't accidentally create an expensive lawsuit</li>
    </ul>
    <h3 id="product-management">Product Management</h3>
    <ul>
      <li>What features will help people?
	<ul>
	  <li>A complex many-to-many mapping from needs to features</li>
	</ul>
      </li>
      <li>What is the user journey?
	<ul>
	  <li>I.e., how do users go from "what is this?" to using it comfortably every day</li>
	</ul>
      </li>
    </ul>
    <h3 id="project-management">Project Management</h3>
    <ul>
      <li>In what order should we build things?
	<ul>
	  <li>Where "things" are identified by product management</li>
	</ul>
      </li>
      <li>What do we cut when we're running short on time?
	<ul>
	  <li>Systematic and accountable prioritization</li>
	</ul>
      </li>
    </ul>
    <h3 id="marketing">Marketing</h3>
    <ul>
      <li>Making sure the people you can help know how you can help them</li>
      <li><a href="http://marketingforscientists.com/">Takes a course</a>
	<ul>
	  <li>Realizes the simulator is not their actual product: their grant proposals are</li>
	</ul>
      </li>
      <li>Begins blogging and speaking more frequently
	<ul>
	  <li>Initially about research associated with the simulator</li>
	  <li>Soon starts discussing issues related to data access, the physical safety of field researchers, and the ways in which simulator results are being deliberately misinterpreted</li>
	  <li>The only way to avoid controversy is to avoid talking about things people actually care about</li>
	</ul>
      </li>
    </ul>
    <h2 id="next-steps">Next Steps</h2>
    <ul>
      <li>Jess is now turning 40 and frustrated that research software engineering isn't recognized or rewarded
	<ul>
	  <li>Simulator has almost a thousand users worldwide, many in agriculture and local government</li>
	  <li>But their promotion still depends on research paper publications</li>
	</ul>
      </li>
      <li>Option 1: continue to suffer
	<ul>
	  <li>Surprising how many RSEs choose this</li>
	</ul>
      </li>
      <li>Option 2: commercialization
	<ul>
	  <li>Despite mutters from some colleagues this is not selling out</li>
	  <li>Given the uncertainties of government funding, it is the best way to ensure the long-term survival of the simulator</li>
	  <li>And it frees up research funding for projects that can't get industry support</li>
	</ul>
      </li>
      <li>Initial business model is a mix of:
	<ul>
	  <li>Charging for intensive tutorials and follow-up consulting</li>
	  <li>Adding features</li>
	  <li>Using the software on others' behalf</li>
	</ul>
      </li>
      <li>Jess must either become an entrepreneur or find a business partner
	<ul>
	  <li>Knows enough to avoid tech transfer offices at universities and government labs</li>
	  <li>Non-research developers encountered through open source are a better source of advice and contacts</li>
	</ul>
      </li>
      <li>Option 3: push for organizational change
	<ul>
	  <li>Get involved in grant review</li>
	  <li>Spend the social capital they've earned to run for a position in their professional body</li>
	  <li>Yes, it means more committees and meetings and even less time doing research…
	    <ul>
	      <li>…but the alternative is the next generation of researchers having fewer options and opportunities</li>
	    </ul>
	  </li>
	  <li>And yes, changing academia is like rolling a very large rock up a very steep and muddy hill
	    <ul>
	      <li>But the social structures of research have changed many times in the last century</li>
	      <li>They're going to keep changing, and Jess can help nudge them in a better direction</li>
	    </ul>
	  </li>
	</ul>
      </li>
    </ul>
    
    <hr/>

    <div align="center">
      <table class="plain" width="90%">
        <tr>
          <td align="center"><a href="./LICENSE.md">License</a></td>
          <td align="center"><a href="./CODE_OF_CONDUCT.md">Code of Conduct</a></td>
          <td align="center"><a href="./CONTRIBUTING.md">Contributing</a></td>
          <td align="center"><a href="./bibliography/">Bibliography</a></td>
          <td align="center"><a href="https://github.com/gvwilson/codebender/">GitHub</a></td>
        </tr>
      </table>
    </div>
  </body>
</html>
